{{- $chat := index .Params 0 | default "" -}}
{{- $width := (index .Params 1 | default 130) | int -}}
{{- $textposition := (index .Params 2 | default (mul $width 0.633)) | int -}}
<a href="https://gitter.im/LightJason/{{- (replaceRE "[[:space:]]+" "-" $chat) | safeURL -}}"><svg xmlns="http://www.w3.org/2000/svg" width="{{- $width -}}" height="20"><linearGradient id="b" x2="0" y2="100%"><stop offset="0" stop-color="#bbb" stop-opacity=".1"/><stop offset="1" stop-opacity=".1"/></linearGradient><mask id="a"><rect width="{{- $width -}}" height="20" rx="3" fill="#fff"/></mask><g mask="url(#a)"><path fill="#555" d="M0 0h40v20H0z"/><path fill="#46BC99" d="M40 0h{{- sub $width 40 -}}v20H40z"/><path fill="url(#b)" d="M0 0h{{- $width -}}v20H0z"/></g><g fill="#fff" text-anchor="middle" font-size="11"><text x="20" y="15" fill="#010101" fill-opacity=".3">gitter</text><text x="20" y="14">gitter</text><text x="{{- $textposition -}}" y="15">{{- if eq $chat "" -}}LightJason{{- else -}}{{- $chat -}}{{- end -}}</text></g></svg></a>