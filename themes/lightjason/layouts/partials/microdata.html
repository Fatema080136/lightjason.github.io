<script type="application/ld+json">
[{
	"@context": "http://schema.org",
	"@type": "WebSite",
	"name": {{ .Site.Title -}},
	"alternateName": {{ .Site.Params.name -}},
	"url": {{- delimit (slice "http://" .Site.Title) "" }}
	{{ with .Site.Params.license }}, "license" : {{ . -}}{{- end }}
	{{ with .Site.Params.keywords -}}, "genre" : {{ . -}}, "keywords" : {{ . -}}{{- end }}
	, "author" : [
		{{- range $i, $l := .Site.Params.person -}}
		{{- if gt $i 0 -}},{{- end -}}
		{
			"@type": "Person",
			"email" : {{ .email -}},
			"name" : {{ delimit (slice .name.given .name.family) " " -}},
			"givenName" : {{ .name.given -}},
			"familyName" : {{ .name.family }}
			{{- with .name.middle -}}, "additionalName" : {{ . -}}{{- end -}}
			{{- with .image }}, "image" : {{ . -}}{{- end }}
			{{- if .links }}
			, "sameAs" : [
				{{- range $n, $k := .links -}}
				{{- if gt $n 0 -}},{{- end }}
				{{ .url }}
				{{- end -}}
			]
			{{- end -}}
		}
		{{ end -}}
	]
}
{{- if in .Params.jsonld "techarticle" }}
,{
	"@context" : "http://schema.org",
	"@type" : "TechArticle",
	"about" : {{ .Title -}},
	"proficiencyLevel" : "Beginner",
	"wordCount" : {{ .FuzzyWordCount }}
}
{{- end }}
{{- if isset .Site.Taxonomies .Section -}}
,{
	"@context" : "http://schema.org",
	"@type" : "BlogPosting",
	"about" : {{ .Title -}},
	"articleBody" : {{ .Content | plainify | chomp -}},
	"wordCount" : {{ .FuzzyWordCount }}
	{{ with .Params.categories -}}, "keywords" : {{ delimit (sort .) ", " -}}{{- end }}
}
{{- if .Params.directlink -}}
,{
	"@context" : "http://schema.org",
	"@type" : "DigitalDocument",
	"about" : {{ .Title -}},
	"fileFormat" : {{ delimit (slice "http://" .Site.Title .Params.directlink) "" -}},
	"url" : {{ delimit (slice "http://" .Site.Title .Params.directlink) "" -}},
	"license" : {{ .Site.Params.license -}}
}
{{- end -}}
{{- end }}
]
</script>


