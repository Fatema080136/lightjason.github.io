---
title: "Basic Knowledge: From Finite-State-Machine and Logical Programming to an Agent"
---

The main definition of our [BDI (Belief-Desire-Intention) framework](https://en.wikipedia.org/wiki/Belief%E2%80%93desire%E2%80%93intention_software_model) follows [Russell & Norvig - Artificial Intelligence: A Modern Approach](http://aima.cs.berkeley.edu/) with the structure of _goal-based agents_:

> An agent is anything that can be viewed as perceiving its environment through sensors and acting upon that environment through effectors _(chapter 2.1, page 31)_

We are defining furthermore along the book of [Michael Wooldrige - An Introduction to MultiAgent Systems](http://www.cs.ox.ac.uk/people/michael.wooldridge/pubs/imas/IMAS2e.html) _(chapter 2.1, page 26)_:

> * _Reactivity:_ Intelligent agents are able to perceive their environment, and respond in a timely fashion to changes that occur in it in order to satisfy their design objectives
> * _Proactiveness:_ Intelligent agents are able to exhibit goal-directed behaviour by talking the initiative in order to satisfy their design objectives
> * _Social ability:_ Intelligent agents are capable of interacting with other agents (and possible humans) in order to satisfy their design objectives

The technical execution structure of the agent uses the concepts of [PRS (Procedural Reasoning System)](https://en.wikipedia.org/wiki/Procedural_reasoning_system) and architecture of [dMARS (Distributed Multi-Agent Reasoning System)](https://en.wikipedia.org/wiki/Distributed_multi-agent_reasoning_system), so we are definiting the agent as a [Finite-State-Machine](../basic-finitestatemachine) in a [Logical Programming language](../basic-logicalprogramming) with the following definition:

* the __initial state__ is optional defined with the _initial goal_
* a __state__ is a set of beliefs if a cycle is not running
* a __transition__ is the execution of a plan (with instantiation of a goal) and is limited by the _plan condition_

But in generell of parallel execution of plans there can be many active transition in one cycle. We focus also the definition of _M. Wooldrige_ with 

> [A] multi-agent system is inherently multithreaded, in that each agent is assumed to have at least on thread of control _(chapter 2.2, page 30)_



## Basic Behaviour

This basic example shows the main functionality of the structure. We define the structure of three plans without a condition and an _initial goal_. The _initial goal (```main```)_ calls two other plans ```first``` and ```second``` within the next cycle. The ```first``` plan will call itself within the following cycles (loop structure) and the ```second``` plan calls the _initial goal_ plan.  The ```first``` plan will be called once in each cycle, because the trigger ```!first``` are equal. The plans ```first``` and ```main``` or ```second``` run in parallel.
 
<pre data-language="AgentSpeak(L++)"><code class="language-agentspeak">!main.
+!main <- !first; !second.
+!first <- !first.
+!second <- !main.
</code></pre>

The state-machine of this agent which executs empty plans is shown in the following picture.

<a name="agentfsm"></a><svg id="fsmstart" xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" xmlns:dc="http://purl.org/dc/elements/1.1/" version="1.1" viewBox="71 51 490 248" width="490pt" height="248pt"><style>@keyframes colorchange { 0%{ fill: white; } 50%{ fill: blue; } 100%{ fill: white; } } tspan { font-family: sans-serif; fill: black; }</style><defs><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker_1" viewBox="-1 -4 10 8" markerWidth="10" markerHeight="8" color="black"><g><path d="M 8 0 L 0 -3 L 0 3 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker_2" viewBox="-9 -4 10 8" markerWidth="10" markerHeight="8" color="black"><g><path d="M -8 0 L 0 3 L 0 -3 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker></defs><g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"><g><circle class="state" id="init" cx="130.5" cy="121.5" r="22.500036" /><circle cx="130.5" cy="121.5" r="22.500036" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path d="M 82.5 109.5 L 108 122.25 L 82.5 135 Z" fill="white"/><path d="M 82.5 109.5 L 108 122.25 L 82.5 135 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><circle class="state" id="main" cx="292.5" cy="121.5" r="22.500036" /><circle cx="292.5" cy="121.5" r="22.500036" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><circle class="state" id="first" cx="434.3764" cy="121.5" r="22.500036" /><circle cx="434.3764" cy="121.5" r="22.500036" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><circle class="state" id="second" cx="355.5" cy="265.5" r="22.500036" /><circle cx="355.5" cy="265.5" r="22.500036" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="153.00001" y1="121.5" x2="260.09999" y2="121.5" marker-end="url(#FilledArrow_Marker_1)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="315.00001" y1="121.5" x2="401.9764" y2="121.5" marker-end="url(#FilledArrow_Marker_1)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path d="M 312.76819 131.283986 C 328.62153 140.46309 349.65398 156.35196 360 180 C 368.30788 198.98943 367.90656 218.82563 365.10382 234.60593" marker-end="url(#FilledArrow_Marker_1)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path d="M 282.89618 152.39407 C 280.09344 168.17438 279.69212 188.01057 288 207 C 298.34602 230.64805 319.37848 246.53692 335.23182 255.71602" marker-start="url(#FilledArrow_Marker_2)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path d="M 448.93856 104.34639 C 464.21743 87.37744 488.17005 63.812963 504 63 C 528.8242 61.725127 541.7247 100.42666 522 117 C 511.4142 125.89452 486.95324 126.53818 466.55897 125.22525" marker-end="url(#FilledArrow_Marker_1)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><rect x="177.51519" y="106.5" width="49" height="30" fill="white"/><text transform="translate(182.51519 112.276)"><tspan x=".084" y="15" textLength="38.832">!main</tspan></text><rect x="338.20016" y="106.5" width="41" height="30" fill="white"/><text transform="translate(343.20016 112.276)"><tspan x=".1" y="15" textLength="30.800">!first</tspan></text><rect x="510.2914" y="72.277704" width="41" height="30" fill="white"/><text transform="translate(515.2914 78.053705)"><tspan x=".1" y="15" textLength="30.800">!first</tspan></text><rect x="317.01628" y="148.74509" width="67" height="30" fill="white"/><text transform="translate(322.01628 154.52109)"><tspan x=".052" y="15" textLength="56.896">!second</tspan></text><rect x="266.61718" y="198.33556" width="49" height="30" fill="white"/><text transform="translate(271.61718 204.11156)"><tspan x=".084" y="15" textLength="38.832">!main</tspan></text></g></g></svg>
 
The picture shows the _static model_ of the agent and the states represent a _set of beliefs_ which are created during runtime and the the transitions are the instantiation of the goal and the execution of the plans. The initial state is defined by the initial goal.
<br/>
Based on this static model the _runtime model_ shows the execution structure of the state-machine. The animation shows the _continous execution_ of the agent on each cycle. In this case the agent runs infinity, but it switchs between the ```main```-state and the ```first``` and ```second```-state, but these two state run in parallel (<a href="#agentfsm" id="animate-agentfsm">animate finite-state-machine</a>).
{{< inlinejs "../../contentjs/agentfsm.js" >}}


## Action Behaviour

Actions are one of the helpful structures within agent-programming. A definition of an action is:

> The action is a function with $f : \mathbb{X}^n \rightarrow \mathbb{B}$ and $\mathbb{X}$ is any input data type and $\mathbb{B}$ is a binary set with {true, false}, which is executed independed and directly within the current agent / plan context. An action can change the environment immediatly or the internal structure of the agent.

On a technical point of view the action is a [method](https://en.wikipedia.org/wiki/Method_(computer_programming)), which is called inside the current plan. The method is definied by the {{< lightbox "http://lightjason.github.io/AgentSpeak/sources/d0/dfe/interfaceorg_1_1lightjason_1_1agentspeak_1_1action_1_1IAction__coll__graph.svg" "IAction interface" >}}. All actions[^iaction] implement this interface which uses the _IExecution_ interface for all executable structures.
<br/>
Based on the first illustrated finite-state-machine we will show the action structure. In a short definition actions are set on the _transition_. On the first state-machine the transition contains only the _achievment goals_. An achievment goal is also an action which executes a plan. We would like to modify the agent that we execute more the one - the achievement goal - action.

<pre data-language="AgentSpeak(L++)"><code class="language-agentspeak line-numbers">!main.

+!main <-
	generic/print("execute main-goal");
	!first; 
	generic/print("achievment-goal in main: first");
	!second;
	generic/print("achievment-goal in main: second")
.

+!first <- 
	generic/print("execute first-goal");
	!first;
	generic/print("achievment-goal in first: first");
.

+!second <- 
	generic/print("execute second-goal");
	!main;
	generic/print("achievment-goal in second: main")
.
</code></pre>

The state-machine of the agent shows, _circles_ represent the state and _rectangles_ the actions. The machine can be also animated.

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="161 63 870 146" width="870pt" height="146pt" xmlns:dc="http://purl.org/dc/elements/1.1/"><defs><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker" viewBox="-9 -4 10 8" markerWidth="10" markerHeight="8" color="black"><g><path d="M -8 0 L 0 3 L 0 -3 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker_2" viewBox="-1 -4 10 8" markerWidth="10" markerHeight="8" color="black"><g><path d="M 8 0 L 0 -3 L 0 3 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker></defs><g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"><g><path d="M 325.5 146.0409 L 325.5 159.42857 L 325.5 182.57143 L 610.92857 182.57143 L 811.8875 182.57143" marker-start="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><circle cx="213.64286" cy="117" r="19.285745" fill="white"/><circle cx="213.64286" cy="117" r="19.285745" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path d="M 172.5 106.714286 L 194.35714 117.64286 L 172.5 128.57143 Z" fill="white"/><path d="M 172.5 106.714286 L 194.35714 117.64286 L 172.5 128.57143 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><circle cx="328.07143" cy="117.026356" r="19.285745" fill="white"/><circle cx="328.07143" cy="117.026356" r="19.285745" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><circle cx="877.07143" cy="124.714286" r="19.285745" fill="white"/><circle cx="877.07143" cy="124.714286" r="19.285745" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><circle cx="830.7857" cy="178.71429" r="19.285745" fill="white"/><circle cx="830.7857" cy="178.71429" r="19.285745" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="232.92858" y1="117.00444" x2="298.8857" y2="117.019634" marker-end="url(#FilledArrow_Marker_2)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="347.35527" y1="117.2964" x2="847.88855" y2="124.30562" marker-end="url(#FilledArrow_Marker_2)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="830.7452" y1="124.065556" x2="830.7641" y2="149.52857" marker-end="url(#FilledArrow_Marker_2)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><rect x="244.80028" y="102.01282" width="49" height="30" fill="white"/><text transform="translate(249.80028 107.78882)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x=".084" y="15" textLength="38.832">!main</tspan></text><rect x="356.0068" y="103.076255" width="111.47624" height="30.243649" fill="white"/><rect x="356.0068" y="103.076255" width="111.47624" height="30.243649" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(361.0068 105.91808)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="1.3881192" y="10" textLength="101.48">generic/print(„execute </tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="24.993119" y="22.279999" textLength="51.49">main-goal“)</tspan></text><rect x="471.83023" y="104.13105" width="30.476238" height="30.243649" fill="white"/><rect x="471.83023" y="104.13105" width="30.476238" height="30.243649" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(476.83023 113.11287)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x=".61311923" y="10" textLength="7.77">!fi</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="8.383119" y="10" textLength="11.48">rst</tspan></text><rect x="636.80344" y="106.60596" width="54" height="30.243649" fill="white"/><rect x="636.80344" y="106.60596" width="54" height="30.243649" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(641.80344 115.587785)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="4.22" y="10" textLength="35.56">!second</tspan></text><rect x="503.80437" y="105.27197" width="129.47624" height="30.243649" fill="white"/><rect x="503.80437" y="105.27197" width="129.47624" height="30.243649" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(508.80437 108.1138)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x=".37811923" y="10" textLength="118.72">generic/print(&quot;achievment-</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="16.768119" y="22.279999" textLength="64.83">goal in main: fi</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="81.59812" y="22.279999" textLength="21.11">rst&quot;);</tspan></text><rect x="695.20215" y="107.952213" width="129.47624" height="30.243649" fill="white"/><rect x="695.20215" y="107.952213" width="129.47624" height="30.243649" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(700.20215 110.79404)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x=".37811923" y="10" textLength="118.72">generic/print(&quot;achievment-</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="10.003119" y="22.279999" textLength="99.47">goal in main: second&quot;)</tspan></text><rect x="570.5008" y="167.4496" width="36" height="30.243649" fill="white"/><rect x="570.5008" y="167.4496" width="36" height="30.243649" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(575.5008 176.43143)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x=".865" y="10" textLength="24.27">!main</tspan></text><rect x="660.24467" y="167.4496" width="111.47624" height="30.243649" fill="white"/><rect x="660.24467" y="167.4496" width="111.47624" height="30.243649" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(665.24467 170.29143)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="1.3881192" y="10" textLength="101.48">generic/print(&quot;execute </tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="17.958119" y="22.279999" textLength="65.56">second-goal&quot;);</tspan></text><rect x="382.08936" y="167.4496" width="135" height="30.243649" fill="white"/><rect x="382.08936" y="167.4496" width="135" height="30.243649" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(387.08936 170.29143)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="3.14" y="10" textLength="118.72">generic/print(&quot;achievment-</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="12.765" y="22.279999" textLength="99.47">goal in second: main&quot;)</tspan></text><path d="M 877.07143 105.42856 L 877.07143 90 L 1004.35714 90 L 1004.35714 167.14286 L 915.64286 167.14286 L 876.5307 167.14286 L 876.5307 153.892475" marker-end="url(#FilledArrow_Marker_2)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><rect x="874.60135" y="152.02103" width="135" height="30.243649" fill="white"/><rect x="874.60135" y="152.02103" width="135" height="30.243649" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(879.60135 154.86286)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="3.14" y="10" textLength="118.72">generic/print(&quot;achievment-</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="22.04" y="22.279999" textLength="37.59">goal in fi</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="59.63" y="22.279999" textLength="22.22">rst: fi</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="81.85" y="22.279999" textLength="21.11">rst&quot;);</tspan></text><rect x="896.132" y="74.878175" width="111.47624" height="30.243649" fill="white"/><rect x="896.132" y="74.878175" width="111.47624" height="30.243649" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(901.132 77.72)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="1.3881192" y="10" textLength="101.48">generic/print(&quot;execute </tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="26.11312" y="22.279999" textLength="5.18">fi</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="31.29312" y="22.279999" textLength="44.07">rst-goal&quot;);</tspan></text><rect x="989.119" y="111.872583" width="30.476238" height="30.243649" fill="white"/><rect x="989.119" y="111.872583" width="30.476238" height="30.243649" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(994.119 120.85441)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x=".61311923" y="10" textLength="7.77">!fi</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="8.383119" y="10" textLength="11.48">rst</tspan></text></g></g></svg>




[^iaction]: see the [IAction interface](http://lightjason.github.io/AgentSpeak/sources/dc/d53/interfaceorg_1_1lightjason_1_1agentspeak_1_1action_1_1IAction.html) for a detailed description
